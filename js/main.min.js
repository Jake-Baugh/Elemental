var people = function () {
    if ($('.person').length < 1) {
        return;
    }

    $(".person").mouseover(function () {
        $(".person").addClass('hovered');
        $(this).removeClass('hovered').addClass('superHover');
    }).mouseout(function () {
        $(".person").removeClass('hovered').removeClass('superHover');;
    });

    $('.lightbox .close').on('click', function () {
        $('.lightbox').slideUp();
        $('.person').removeClass('active');
        $('.people-comp').removeClass('selected');

    })

    $('.person').on('click', function () {

        $('.people-comp').addClass('selected');

        //history.pushState({}, '', $(this).data("url"));


        var pos = $(this).data('pos');
        var padding = 0;


        if ($(window).width() > 768 && $(window).width() < 1024) {
            if ((pos + 1) % 2 === 0) {

            } else {
                pos = pos + 1;
            }
        } else {
            if ($(window).width() > 1024) {
                if ((pos) % 3 === 0) {
                    pos = pos + 2;
                } else if ((pos + 2) % 3 === 0) {
                    pos = pos + 1;
                } else {
                    pos = pos;
                }

                padding = 56;
            }
        }

        $('.person').removeClass('active');
        $(this).addClass('active');
        $('.lightbox').insertAfter($('.person[data-pos="' + pos + '"]')).css({
            'opacity': 0
        });
        var data = $(this).find('.meta');
        $('.lightbox .meta').html($(data).html());
        $('.lightbox .image').css('background-image', $(this).css('background-image'))
        $('.lightbox').slideDown().animate({
            'opacity': 1
        });

        $('html, body').animate({
            scrollTop: ($('.lightbox').offset().top - padding)
        }, 500);

    })
}

if (window.location.hash) {
    if (window.location.hash != "page-top")
    {
        scroll(0,0);
    }
}
// takes care of some browsers issue
setTimeout(function(){scroll(0,0);},1);

$(document).ready(function () {

    // direct browser to top right away


    if(window.location.hash) {
        if (window.location.hash != "page-top")
        {
            // smooth scroll to the anchor id
            $('html, body').animate({
                scrollTop: $(window.location.hash).offset().top + 'px'
            }, 1200, 'swing');
        }
    }   

    $('body').ihavecookies({
        title: "We are GDPR compliant",
        message: "This website uses cookies to ensure you get the best experience on our website.",
        advancedBtnLabel: 'Set Cookies',
        link: "cookie-policy.php",
        delay: 2000,
        cookieTypes: [
            {
                type: 'Site Preferences',
                value: 'preferences',
                description: 'These are cookies that are related to your site preferences, e.g. remembering your username, site colours, etc.'
            },
            {
                type: 'Analytics',
                value: 'analytics',
                description: 'Cookies related to site visits, browser types, etc.'
            },
            {
                type: 'Marketing',
                value: 'marketing',
                description: 'Cookies related to marketing, e.g. newsletters, social media, etc'
            }
        ],
      });
    

    $('.customer-logos').slick({
        slidesToShow: 4,
        slidesToScroll: 1,
        autoplay: true,
        autoplaySpeed: 2000,
        arrows: false,
        dots: false,
        pauseOnHover: false,
        responsive: [{
            breakpoint: 768,
            settings: {
                slidesToShow: 3
            }
        }, {
            breakpoint: 520,
            settings: {
                slidesToShow: 1
            }
        }]
    });

    $(".moreBox").slice(0, 3).show();
    if ($(".blogBox:hidden").length != 0) {
        $("#loadMore").show();
    }
    $("#loadMore").on('click', function (e) {
        e.preventDefault();
        $(".moreBox:hidden").slice(0, 3).slideDown();
        if ($(".moreBox:hidden").length == 0) {

        }
    });


    //Set the carousel options
    $('#quote-carousel').carousel({
        pause: true,
        interval: 4000,
    });

    people();

});
